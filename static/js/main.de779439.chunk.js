(this["webpackJsonpafd-react"]=this["webpackJsonpafd-react"]||[]).push([[0],{21:function(e,t,s){},24:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),r=s(13),a=s.n(r),c=(s(21),s(2)),o=s(9),d=s(8),l=s.n(d),u=(s(24),s(14)),h=s(15),j=s(16),b=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";Object(h.a)(this,e),this.grammar=void 0,this.grammarType=void 0,this.name=void 0,this.states=void 0,this.alphbet=void 0,this.productions=void 0,this.initialState=void 0,this.currentState=void 0,this.terminals=void 0,this.history=void 0,this.grammar=t,this.grammarType=s;var n=JSON.parse(t),i=n.name,r=n.states,a=n.alphbet,o=n.productions,d=n.initialState,l=n.terminals;this.name=i,this.states=r,this.alphbet=[""].concat(Object(c.a)(a)),this.productions=this._validatesProductions(o),this.initialState=d,this.currentState=d,this.terminals=l,this.history=[]}return Object(j.a)(e,[{key:"run",value:function(e){if(!e)return this.history=[[this.initialState,"",this.initialState]],this.terminals.includes(this.initialState);var t=Object(u.a)(e),s=t[0],n=t.slice(1),i=this.productions[this.currentState]?this.productions[this.currentState][s]:void 0;return this.history.push([this.currentState,s,i]),i?0!==n.length?(this._moveTo(i),this.run(n)):this.terminals.includes(i)?(this._moveTo(this.initialState),!0):(this._moveTo(this.initialState),!1):(this._moveTo(this.initialState),!1)}},{key:"_moveTo",value:function(e){return this.currentState=e,this.currentState}},{key:"_validatesProductions",value:function(e){var t=this;if(Object.keys(e).find((function(e){return!t.states.includes(e)})))throw new Error("Estado da produ\xe7\xe3o indefinido");var s=new Set(Object.values(e).reduce((function(e,t){return[].concat(Object(c.a)(e),Object(c.a)(Object.values(t)))}),[]));if(Object(c.a)(s).find((function(e){return!t.states.includes(e)})))throw new Error("Estado da produ\xe7\xe3o indefinido");var n=new Set(Object.values(e).reduce((function(e,t){return[].concat(Object(c.a)(e),Object(c.a)(Object.keys(t)))}),[]));if(Object(c.a)(n).find((function(e){return!t.alphbet.includes(e)})))throw new Error("Simbolo da produ\xe7\xe3o indefinido");return e}}]),e}(),m=s(0);function _(e){var t=Object(o.a)(e.grammarState,2),s=t[0],i=t[1],r=Object(n.useState)([{word:"",result:"disabled",history:[]}]),a=Object(o.a)(r,2),d=a[0],u=a[1];var h=function(e){switch(e.result){case"error":return Object(m.jsx)("span",{className:"nes-badge",children:Object(m.jsx)("span",{className:"is-error",children:"REJEITA"})});case"success":return Object(m.jsx)("span",{className:"nes-badge",children:Object(m.jsx)("span",{className:"is-success",children:"ACEITA"})});case"disabled":return Object(m.jsx)("span",{className:"nes-badge",children:Object(m.jsx)("span",{className:"is-dark",children:"_"})})}},j=function(e){var t=e.lastRound[1],s=e.lastRound[2];return window.__AFD__.alphbet.includes(t)?s?window.__AFD__.terminals.includes(s)?Object(m.jsx)("p",{className:"nes-text is-success",children:"Palavra aceita"}):Object(m.jsx)("p",{className:"nes-text is-error",children:"Estado final n\xe3o \xe9 terminal"}):Object(m.jsx)("p",{className:"nes-text is-error",children:"Produ\xe7\xe3o indefinida"}):Object(m.jsx)("p",{className:"nes-text is-error",children:"Simbolo n\xe3o pertence ao alfabeto"})};return Object(m.jsxs)("section",{id:"editor",children:[Object(m.jsxs)("div",{className:"editor__group1 nes-container is-rounded",children:[Object(m.jsxs)("nav",{className:"editor__controlsBar",children:[Object(m.jsx)("div",{className:"editor__editorControl",children:Object(m.jsxs)("label",{className:"nes-btn is-primary",children:[Object(m.jsx)("span",{children:"Selecione um arquivo"}),Object(m.jsx)("input",{type:"file",className:"editor__fileInput is-primary",onChange:function(e){e.preventDefault();var t=e.target.files[0];if(t)try{var s=new FileReader;s.onloadend=function(){i(s.result)},s.readAsText(t)}catch(n){l()("Erro",n.message,"error")}else l()("Nenhum arquivo")}})]})}),Object(m.jsx)("div",{className:"editor__editorControl",children:Object(m.jsx)("input",{type:"button",value:"Criar automato",className:"nes-btn is-success",onClick:function(){return function(e){try{window.__AFD__=new b(e),u(d.map((function(){return{word:"",result:window.__AFD__.run("")?"success":"error",history:window.__AFD__.history}})))}catch(t){l()("Erro na execu\xe7\xe3o",t.message,"error")}}(s)}})})]}),Object(m.jsx)("div",{className:"editor__textEditor nes-field",children:Object(m.jsx)("textarea",{name:"editor",cols:90,rows:30,value:s,onChange:function(e){e.preventDefault(),i(e.target.value)},spellCheck:"false",className:"nes-textarea",wrap:"soft"})})]}),Object(m.jsxs)("div",{className:"editor__group2 nes-container is-rounded",children:[Object(m.jsx)("input",{type:"button",value:"Add input",className:"nes-btn is-".concat(window.__AFD__?"warning":"disabled"),onClick:function(){u([].concat(Object(c.a)(d),[{word:"",result:window.__AFD__.run("")?"success":"error",history:window.__AFD__.history}]))}}),d.map((function(e,t){return Object(m.jsxs)("div",{className:"editor__wordsInputs nes-container is-rounded",children:[Object(m.jsxs)("div",{className:"editor__inputHeader",children:[Object(m.jsx)(h,{result:e.result}),Object(m.jsx)("button",{className:"nes-btn is-error",onClick:function(){return e=t,void u(d.filter((function(t,s){return e!==s})));var e},children:"X"})]}),Object(m.jsx)("input",{type:"text",value:e.word,onChange:function(e){return s=t,n=e.target.value,void u(d.map((function(e,t){return window.__AFD__?t===s?(window.__AFD__.history=[],window.__AFD__.run(n)?{word:n,result:"success",history:window.__AFD__.history}:{word:n,result:"error",history:window.__AFD__.history}):e:{word:"",result:"disabled",history:[]}})));var s,n},className:"nes-input is-".concat(e.result),placeholder:window.__AFD__?"Palavra vazia":"Crie um Automato"}),Object(m.jsxs)("details",{style:{marginTop:"1rem"},children:[Object(m.jsx)("summary",{children:"Hist\xf3rico"}),Object(m.jsxs)("div",{className:"nes-container is-rounded is-dark",style:{textAlign:"center"},children:[e.history.map((function(e,t){var s=Object(o.a)(e,3),n=s[0],i=s[1],r=s[2];return Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"nes-text is-warning",children:"".concat(t+1,") ")}),Object(m.jsx)("strong",{className:"nes-text is-success",children:n}),r?Object(m.jsxs)(m.Fragment,{children:["|",Object(m.jsx)("span",{className:"nes-text is-primary",children:"(".concat(i,")")}),"|",Object(m.jsx)("strong",{className:"nes-text is-success",children:r})]}):Object(m.jsxs)(m.Fragment,{children:["|",Object(m.jsx)("span",{className:"nes-text is-error",children:"(".concat(i,")")})]})]},t)})),e.history.length?Object(m.jsx)(j,{lastRound:e.history[e.history.length-1]}):""]})]})]},t)}))]})]})}s(26);var p=function(){var e=Object(n.useState)("");return Object(m.jsx)("main",{className:"App",children:Object(m.jsx)(_,{grammarState:e})})},v=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),n(e),i(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root")),v()}},[[27,1,2]]]);
//# sourceMappingURL=main.de779439.chunk.js.map